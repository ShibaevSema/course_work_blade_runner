{"ast":null,"code":"import { __awaiter, __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet RegisterComponent = class RegisterComponent {\n  constructor(messageService, router, loaderService) {\n    this.messageService = messageService;\n    this.router = router;\n    this.loaderService = loaderService;\n    this.restrictedSymbols = '\\\"\\' ;,.';\n  }\n\n  register() {\n    let credentials;\n    credentials = {\n      username: this.login,\n      password: this.password\n    };\n\n    if (this.check()) {\n      (() => __awaiter(this, void 0, void 0, function* () {\n        this.loaderService.isLoading.next(true);\n        yield new Promise(f => setTimeout(f, 400));\n        this.loaderService.isLoading.next(false);\n        this.router.navigateByUrl('/main').then(() => console.log('Navigated to /main'));\n      }))();\n    } else {\n      this.onError(\"Вы ввели неверные данные. Проверьте длинну введенных логина и пароля и убедитесь, что вы не используете запрещенные символы\");\n    }\n  }\n\n  onSuccess(message) {\n    this.messageService.add({\n      severity: 'success',\n      summary: 'Success',\n      detail: message,\n      life: 2000\n    });\n  }\n\n  onError(message) {\n    this.messageService.add({\n      severity: 'error',\n      summary: 'Error!',\n      detail: message,\n      life: 2000\n    });\n  }\n\n  ngOnInit() {\n    this.msgs = [];\n  }\n\n  check() {\n    let i = 0;\n\n    if (this.login != undefined && this.password != undefined && this.login.length >= 5 && this.password.length >= 5) {\n      for (i = 0; i < this.restrictedSymbols.length; i++) {\n        if (this.login.indexOf(this.restrictedSymbols[i]) > -1 || this.password.indexOf(this.restrictedSymbols[i]) > -1) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    return false;\n  }\n\n};\nRegisterComponent = __decorate([Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.css']\n})], RegisterComponent);\nexport { RegisterComponent };","map":null,"metadata":{},"sourceType":"module"}